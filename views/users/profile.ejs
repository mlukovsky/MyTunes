<% layout('layouts/boilerplate') %>
    <h1>
        <%= user.username %>
    </h1>


    <a href="/search"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
            class="bi bi-plus-lg" viewBox="0 0 16 16">
            <path fill-rule="evenodd"
                d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z" />
        </svg> Add stuff</a>

    <nav>
        <div class="nav nav-tabs" id="nav-tab" role="tablist">
            <button class="nav-link active" id="nav-songs-tab" data-bs-toggle="tab" data-bs-target="#nav-songs"
                type="button" role="tab" aria-controls="nav-songs" aria-selected="true">Songs</button>
            <button class="nav-link" id="nav-artists-tab" data-bs-toggle="tab" data-bs-target="#nav-artists"
                type="button" role="tab" aria-controls="nav-artists" aria-selected="false">Artists</button>
            <button class="nav-link" id="nav-albums-tab" data-bs-toggle="tab" data-bs-target="#nav-albums" type="button"
                role="tab" aria-controls="nav-albums" aria-selected="false">Albums</button>
            <button class="nav-link" id="nav-reviews-tab" data-bs-toggle="tab" data-bs-target="#nav-reviews"
                type="button" role="tab" aria-controls="nav-reviews" aria-selected="false">Reviews</button>
        </div>
    </nav>
    <div class="tab-content" id="nav-tabContent">
        <div class="tab-pane fade show active" id="nav-songs" role="tabpanel" aria-labelledby="nav-songs-tab"
            tabindex="0">
            <% for(let song of user.songs) { %>
                <div class="mb-2">
                    <a href="/song/<%= song.id %>">
                        <%= song.artist %> - <%= song.title %>
                    </a>
                </div>
                <% } %>
        </div>
        <div class="tab-pane fade" id="nav-artists" role="tabpanel" aria-labelledby="nav-artists-tab" tabindex="0">
            <% for(let artist of user.artists) { %>
                <div class="mb-2">
                    <a href="/artist/<%= artist.id %>">
                        <%= artist.name %>
                    </a>
                </div>
                <% } %>
        </div>
        <div class="tab-pane fade" id="nav-albums" role="tabpanel" aria-labelledby="nav-albums-tab" tabindex="0">
            <% for(let album of user.albums) { %>
                <div class="mb-2">
                    <a href="/album/<%= album.id %>">
                        <%= album.title %> by <%= album.artist %>
                    </a>
                </div>
                <% } %>
        </div>
        <div class="tab-pane fade" id="nav-reviews" role="tabpanel" aria-labelledby="nav-reviews-tab" tabindex="0">
            <% for(let review of user.reviews){ %>
                <% if(review.song) { %>
                    <div class="mb-2">
                        <h5 class="h5">For <a href="/song/<%= review.song.id %>">
                                <%= review.song.artist %> - <%= review.song.title %>
                            </a>
                        </h5>
                        <p>
                            <%= review.rating %>
                        </p>
                        <%= review.body %>
                    </div>
                    <% } else if(review.album) { %>
                        <div class="mb-2">
                            <h5 class="h5">For <a href="/album/<%= review.album.id %>">
                                    <%= review.album.title %> by <%= review.album.artist %>
                                </a>
                            </h5>
                            <p>
                                <%= review.rating %>
                            </p>
                            <%= review.body %>
                        </div>
                        <% } else { %>
                            <div class="mb-2">
                                <h5 class="h5">For <a href="/artist/<%= review.artist.id %>">
                                        <%= review.artist.name %>
                                    </a>
                                </h5>
                                <p>
                                    <%= review.rating %>
                                </p>
                                <%= review.body %>
                            </div>
                            <% } %>
                                <% } %>
        </div>
    </div>